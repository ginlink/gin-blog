"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5756],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return u}});var r=t(7294);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var o=r.createContext({}),i=function(e){var n=r.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=i(e.components);return r.createElement(o.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,s=e.mdxType,a=e.originalType,o=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=i(t),u=s,g=d["".concat(o,".").concat(u)]||d[u]||m[u]||a;return t?r.createElement(g,l(l({ref:n},c),{},{components:t})):r.createElement(g,l({ref:n},c))}));function u(e,n){var t=arguments,s=n&&n.mdxType;if("string"==typeof e||s){var a=t.length,l=new Array(a);l[0]=d;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p.mdxType="string"==typeof e?e:s,l[1]=p;for(var i=2;i<a;i++)l[i]=t[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4342:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return p},contentTitle:function(){return o},metadata:function(){return i},toc:function(){return c},default:function(){return d}});var r=t(7462),s=t(3366),a=(t(7294),t(3905)),l=["components"],p={title:"08.react\u79fb\u52a8\u7aef\u9002\u914d",categories:["\u5927\u524d\u7aef"],tags:["\u6848\u4f8b","css","react"]},o="\u79fb\u52a8\u7aef\u9002\u914d",i={unversionedId:"\u5927\u524d\u7aef/react\u79fb\u52a8\u7aef\u9002\u914d",id:"\u5927\u524d\u7aef/react\u79fb\u52a8\u7aef\u9002\u914d",title:"08.react\u79fb\u52a8\u7aef\u9002\u914d",description:"[1] create-react-app+react-app-rewired\u642d\u5efaviewport\u89e3\u51b3\u65b9\u6848.https://segmentfault.com/a/1190000016780204",source:"@site/docs/01.\u5927\u524d\u7aef/08.react\u79fb\u52a8\u7aef\u9002\u914d.md",sourceDirName:"01.\u5927\u524d\u7aef",slug:"/\u5927\u524d\u7aef/react\u79fb\u52a8\u7aef\u9002\u914d",permalink:"/docs/\u5927\u524d\u7aef/react\u79fb\u52a8\u7aef\u9002\u914d",editUrl:"https://github.com/ginlink/gin-blog/docs/01.\u5927\u524d\u7aef/08.react\u79fb\u52a8\u7aef\u9002\u914d.md",tags:[{label:"\u6848\u4f8b",permalink:"/docs/tags/\u6848\u4f8b"},{label:"css",permalink:"/docs/tags/css"},{label:"react",permalink:"/docs/tags/react"}],version:"current",sidebarPosition:8,frontMatter:{title:"08.react\u79fb\u52a8\u7aef\u9002\u914d",categories:["\u5927\u524d\u7aef"],tags:["\u6848\u4f8b","css","react"]},sidebar:"tutorialSidebar",previous:{title:"07.\u5bfc\u822a\u680f\u6fc0\u6d3b\u5207\u6362\u56fe\u7247\u6848\u4f8b",permalink:"/docs/\u5927\u524d\u7aef/\u5bfc\u822a\u680f\u6fc0\u6d3b\u6848\u4f8b"},next:{title:"09.react\u4e2d\u7684hooks",permalink:"/docs/\u5927\u524d\u7aef/react\u4e2d\u7684hooks"}},c=[{value:"\u5b9e\u73b0\u529f\u80fd",id:"\u5b9e\u73b0\u529f\u80fd",children:[],level:3},{value:"\u5b58\u5728\u95ee\u9898",id:"\u5b58\u5728\u95ee\u9898",children:[],level:3},{value:"\u601d\u7ef4\u6269\u5c55",id:"\u601d\u7ef4\u6269\u5c55",children:[],level:3},{value:"\u5904\u7406\u51fd\u6570",id:"\u5904\u7406\u51fd\u6570",children:[],level:3},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",children:[],level:3},{value:"\u5df2\u77e5\u7f3a\u9677",id:"\u5df2\u77e5\u7f3a\u9677",children:[],level:3}],m={toc:c};function d(e){var n=e.components,t=(0,s.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u79fb\u52a8\u7aef\u9002\u914d"},"\u79fb\u52a8\u7aef\u9002\u914d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add customize-cra postcss-px-to-viewport -D\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add postcss-px-to-viewport --dev\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add react-app-rewire-postcss react-app-rewired --dev\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"yarn remove react-app-rewired --dev\n")),(0,a.kt)("p",null,"[1]"," create-react-app+react-app-rewired\u642d\u5efaviewport\u89e3\u51b3\u65b9\u6848.",(0,a.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000016780204"},"https://segmentfault.com/a/1190000016780204")),(0,a.kt)("h1",{id:"1-reactpostcss-px-to-viewport\u79fb\u52a8\u7aef\u9002\u914d"},"1 react+postcss-px-to-viewport\u79fb\u52a8\u7aef\u9002\u914d"),(0,a.kt)("p",null,"\u9996\u5148\uff0c\u4f7f\u7528\u6761\u4ef6\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8fd9\u672c\u8eab\u662fpostcss\u7684\u63d2\u4ef6\uff0c\u6240\u4ee5\u9700\u652f\u6301postcss\uff0c\u800c\u73b0\u5728\u9879\u76ee\u4e2d\u7528styled-components\u8f83\u591a\uff0c\u82e6\u607c\uff0c\u4e0b\u9762\u6709\u63d0\u5728styled-components\u4e2d\u5982\u4f55\u8fdb\u884c\u79fb\u52a8\u7aef\u9002\u914d")),(0,a.kt)("p",null,"\u65b9\u6cd5\uff1a\u7531\u4e8e\u4e0d\u60f3\u66b4\u9732webpack\u914d\u7f6e\uff0c\u6240\u4ee5\u7528react-app-rewired+customize-cra\u4ee3\u914d\u7f6ewebpack\uff0c\u518d\u914d\u7f6epx-to-viewport\u63d2\u4ef6\u5373\u53ef"),(0,a.kt)("p",null,"\u5b89\u88c5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add -D react-app-rewired customize-cra postcss-px-to-viewport\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"pakeage.json")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'"start": "react-app-rewired start",\n"build": "react-app-rewired build",\n"test": "react-app-rewired test",\n"eject": "react-scripts eject"\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"config-overrides.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst { override, overrideDevServer, addPostcssPlugins } = require('customize-cra')\n\nconst devServerConfig = () => (config) => {\n  return {\n    ...config,\n    // \u670d\u52a1\u5f00\u542fgzip\n    compress: true,\n  }\n}\nmodule.exports = {\n  webpack: override(\n    addPostcssPlugins([\n      // \u8fd9\u91cc\u914d\u7f6epx-to-viewport\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\n      require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n        unitPrecision: 3,\n        viewportUnit: 'vw',\n        selectorBlackList: ['.ignore', '.hairlines'],\n        minPixelValue: 1,\n        mediaQuery: false,\n      }),\n    ])\n  ),\n  devServer: overrideDevServer(devServerConfig()),\n}\n")),(0,a.kt)("h1",{id:"2-styled-components\u9002\u914d"},"2 styled-components\u9002\u914d"),(0,a.kt)("p",null,"\u7531\u4e8e ",(0,a.kt)("inlineCode",{parentName:"p"},"styled-components")," \u63d2\u4ef6\u4e0epostcss\u6ca1\u6709\u8054\u5408\uff0c\u5728\u4e92\u8054\u7f51\u4e5f\u6ca1\u6709\u68c0\u7d22\u5230styled-components\u9002\u914d\u76f8\u5173\u65b9\u6848\uff0c\u53ea\u597d\u81ea\u5df1\u6478\u7d22\uff0c\u5982\u679c\u6709\u66f4\u597d\u7684\u65b9\u6848\uff0c\u8bf7\u63d0\u51fa\uff0c\u611f\u6fc0"),(0,a.kt)("p",null,"\u601d\u8def\uff1a\u8fd8\u662f\u7528viewport\u6765\u9002\u914d\uff0c\u7528\u51fd\u6570\u8ba1\u7b97\u503c\u5373\u53ef"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"export function px2vw(pixels: string | number | TemplateStringsArray, pixelTotal = 375) {\n  if (pixels instanceof Array) {\n    // \u4ece\u6a21\u677f\u4e2d\u62ff\u53bb\u503c\n    pixels = pixels[0]\n  }\n  \n  const num = parseInt(pixels as string)\n  return `${((num / pixelTotal) * 100).toFixed(3)}vw`\n  // \u7ed3\u679c\u4fdd\u7559\u4e09\u4f4d\u5c0f\u6570\n}\n\n// pixelTotal\u8868\u793aUI\u56fe\u5bbd\u5ea6\n")),(0,a.kt)("p",null,"\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const Content = styled.div`\n    width: ${px2vw(100)};\n    width: ${px2vw`100`}; // \u7528\u6a21\u677f\u5b57\u7b26\u4e32\u4e5f\u53ef\u4ee5\n    width: ${px2vw`100px`}; // \u5e26\u4e0a\u5355\u4f4d\u4e5f\u53ef\u4ee5\n\n    height: ${px2vw(100)};\n    \n    // \u5a92\u4f53\u67e5\u8be2\n    @media (max-width 960px){\n        width: ${px2vw(50)};\n        height: ${px2vw(50)};\n    }\n`\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u4f46\u5728\u81ea\u5df1\u5c01\u88c5\u7684\u5a92\u4f53\u67e5\u8be2\u4e2d\u4f1a\u51fa\u9519\uff0c\u539f\u56e0\u672a\u77e5")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"${({ theme }) => theme.mediaWidth.upToMedium`\n  width: ${px2vw(200)};\n  height: ${px2vw(100)};\n    // \u6837\u5f0f\u51fa\u9519\n\n  background: url(${bgMiniH5}) no-repeat;\n  background-size: 100% 100%;\n  font-size: 100px;\n`};\n")),(0,a.kt)("p",null,"\u89e3\u51b3\u65b9\u6848\uff1a\u7528\u7eaf\u5a92\u4f53\u67e5\u8be2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"@media (max-width: 700px){\n  width: ${px2vw`345`};\n  height: ${px2vw`100`};\n}\n")),(0,a.kt)("p",null,"\u66ff\u6362\u65b9\u6848"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"(\\w+px)\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"${px2vw`$1`}\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"@media (max-width: ${MEDIUM}) {\n    gap: ${px2vw`12px`};\n}\n")),(0,a.kt)("p",null,"react\u9002\u914d\u5173\u952e\u5b57\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"adaptive layouts with styled-component")),(0,a.kt)("p",null,"[1]"," Creating responsive and adaptive layouts with React and Styled-Components.",(0,a.kt)("a",{parentName:"p",href:"https://dev.to/carloscne/creating-responsive-and-adaptive-layouts-with-react-and-styled-components-1ghi"},"https://dev.to/carloscne/creating-responsive-and-adaptive-layouts-with-react-and-styled-components-1ghi")),(0,a.kt)("h1",{id:"3-rem\u9002\u914d"},"3 rem\u9002\u914d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"function r(pxValue: any) {\n  const ratio = 37.5 // \u6839\u636e\u9879\u76ee\u914d\u7f6e\u6bd4\u4f8b\u7684\u65b9\u5f0f\u81ea\u884c\u8bbe\u5b9a\n  pxValue = parseInt(pxValue)\n\n  return (pxValue / ratio).toFixed(3) + 'rem'\n}\n\nexport const PageWraper = styled.div`\n  margin: ${r('50px')} auto 0;\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    margin: unset;\n    width: 100%;\n  `};\n`\n")),(0,a.kt)("h1",{id:"4-styled-componentd\u9002\u914d\u65b0\u65b9\u6848\u4e0d\u592a\u597d\u7528"},"4 styled-componentd\u9002\u914d\u65b0\u65b9\u6848\u3010\u4e0d\u592a\u597d\u7528\u3011"),(0,a.kt)("p",null,"\u57fa\u4e8e","[5]"," "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"function r(pxValue) {\n  const ratio = 20; // \u6839\u636e\u9879\u76ee\u914d\u7f6e\u6bd4\u4f8b\u7684\u65b9\u5f0f\u81ea\u884c\u8bbe\u5b9a\n\n  // \u9488\u5bf9template literals\n  if (Array.isArray(pxValue)) {\n    pxValue = pxValue[0];\n  }\n\n  pxValue = parseInt(pxValue);\n\n  return pxValue / ratio + 'rem';\n}\n\n// \u628a\u5b57\u7b26\u4e32\u6837\u5f0f\u91cc\u9762\u7684px\u5355\u4f4d\u6362\u7b97\u6210rem\u7684\n// \u652f\u6301\u591a\u884c\u5339\u914d\nfunction transformPxToRem(style) {\n  // \u907f\u514d\u5904\u7406\u4e86\u51fd\u6570\u7b49\u60c5\u51b5\n  if (typeof style !== 'string') {\n    return style;\n  }\n\n  return style.replace(/\\d+px/gm, matched => {\n    return r(matched);\n  });\n}\n\n// \u5b9e\u73b0\u5728\u628a\u6837\u5f0f\u4f20\u9012\u7ed9styled\u4e4b\u524d\uff0c\u9884\u5148\u7528transformPxToRem\u5904\u7406\nfunction t(strings, ...interpolations) {\n  let styles = css(strings, ...interpolations); // css\u662fstyled-components\u7684\u4e00\u4e2ahelper\n  styles = styles.map(transformPxToRem);\n\n  // \u6a21\u62dfraw\u7684\u8c03\u7528\n  return [[\"\"], styles]\n};\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u62ff\u5230\u8bbe\u5907\u5c3a\u5bf8\u4e4b\u540e\uff0c\u6709\u4e00\u4e2a\u4e0a\u4e0b\u9650\uff0c\u5728\u4e0a\u4e0b\u9650\u4e2d\u8fdb\u884c\u8f6c\u6362  \u5426\u5219\u4e0d\u8f6c\u6362"),(0,a.kt)("p",{parentName:"blockquote"},"\u5f85\u5b8c\u5584")),(0,a.kt)("p",null,"\uff08\u5b8c\uff09"),(0,a.kt)("p",null,"\u53c2\u8003\u6587\u732e"),(0,a.kt)("p",null,"[1]"," styled-components\u4e2d\u6587\u6587\u6863.",(0,a.kt)("a",{parentName:"p",href:"https://github.com/hengg/styled-components-docs-zh"},"https://github.com/hengg/styled-components-docs-zh")),(0,a.kt)("p",null,"[2]"," styled-components\u5b98\u7f51.",(0,a.kt)("a",{parentName:"p",href:"https://github.com/styled-components/styled-components"},"https://github.com/styled-components/styled-components")),(0,a.kt)("p",null,"[3]"," styled-xxxW3chool\u6587\u6863.",(0,a.kt)("a",{parentName:"p",href:"https://www.w3cschool.cn/styledcomponents/styledcomponents-z8v638ja.html"},"https://www.w3cschool.cn/styledcomponents/styledcomponents-z8v638ja.html")),(0,a.kt)("p",null,"[4]"," \u79fb\u52a8\u7aef\u9875\u9762\u9002\u914d.",(0,a.kt)("a",{parentName:"p",href:"https://www.jianshu.com/p/7139c05c7971%E3%80%90%E4%BB%8Erem%E5%88%B0vw%E3%80%91"},"https://www.jianshu.com/p/7139c05c7971\u3010\u4ecerem\u5230vw\u3011")),(0,a.kt)("p",null,"[5]"," \u5728styled-components\u7684\u6837\u5f0f\u58f0\u660e\u4e2d\u505apx\u5230rem\u7684\u81ea\u52a8\u8f6c\u6362.",(0,a.kt)("a",{parentName:"p",href:"https://www.shuizhongyueming.com/2017/11/29/%E5%9C%A8styled-components%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%A3%B0%E6%98%8E%E4%B8%AD%E5%81%9Apx%E5%88%B0rem%E7%9A%84%E8%87%AA%E5%8A%A8%E8%BD%AC%E6%8D%A2/%E3%80%90%E7%A0%94%E7%A9%B6styled-comxxx%E7%9A%84%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88%E3%80%91"},"https://www.shuizhongyueming.com/2017/11/29/%E5%9C%A8styled-components%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%A3%B0%E6%98%8E%E4%B8%AD%E5%81%9Apx%E5%88%B0rem%E7%9A%84%E8%87%AA%E5%8A%A8%E8%BD%AC%E6%8D%A2/\u3010\u7814\u7a76styled-comxxx\u7684\u9002\u914d\u65b9\u6848\u3011")),(0,a.kt)("p",null,"[6]"," Web\u79fb\u52a8\u7aef\u6700\u5f3a\u9002\u914d\u65b9\u6848\u603b\u7ed3\uff0c\u6ca1\u60f3\u5230\u8fd9\u4e48\u597d\u7528\uff01.",(0,a.kt)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000038159934%E3%80%90%E6%AF%94%E8%BE%83%E5%85%A8%E3%80%91"},"https://segmentfault.com/a/1190000038159934\u3010\u6bd4\u8f83\u5168\u3011")),(0,a.kt)("h1",{id:""}),(0,a.kt)("h1",{id:"5-\u901a\u7528vw\u9002\u914d\u65b9\u6848"},"5 \u901a\u7528vw\u9002\u914d\u65b9\u6848"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"@function vw($px, $base=375) { \n  @return ($px / $base) * 100vw;\n}\n")),(0,a.kt)("h1",{id:"6-styled-components\u9002\u914d\u65b0\u65b9\u6848-\u8bf7\u770b\u7b2c7\u70b9"},"6 ",(0,a.kt)("del",{parentName:"h1"},"styled-components\u9002\u914d\u65b0\u65b9\u6848")," \u8bf7\u770b\u7b2c7\u70b9"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("del",{parentName:"p"},"\u7ed3\u679c\uff1a\u5931\u8d25\u4e86")," ",(0,a.kt)("strong",{parentName:"p"},"\u6b64\u95ee\u9898\u5df2\u89e3\u51b3\uff0c\u8bf7\u770b\u7b2c7\u70b9"))),(0,a.kt)("p",null,(0,a.kt)("del",{parentName:"p"},"\u5931\u8d25\u539f\u56e0\uff1astyled-components\u63d0\u4f9b\u7684css\u5e2e\u52a9\u51fd\u6570\u65e0\u6cd5\u6b63\u786e\u89e3\u6790\u53d8\u91cf\uff0c\u6700\u7ec8\u5bfc\u81f4\u4e00\u4e9b\u6837\u5f0f\u51fa\u9519")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://gitee.com/nahaohao/pic-upload/raw/master/img/image-20210808170205796.png",alt:"image-20210808170205796"})),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"css`\n    background-color: ${(props) => props.theme.white};\n`\n\n=>>\u8f93\u51fa\n    background-color: (props) => props.theme.white;\n")),(0,a.kt)("p",null,"\u4e0a\u4ee3\u7801"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { css } from 'styled-components/macro'\nenum ADAPTION_MODE_VALUE {\n  all = 0, // \u8f6c\u5316\u6240\u6709px\u4e3avw\n  media = 1, // \u53ea\u8f6c\u5316\u5a92\u4f53\u67e5\u8be2\u7684px\u4e3avw\n  out = 2, // TODO \u53ea\u8f6c\u5316\u9664\u5a92\u4f53\u67e5\u8be2\u5916\u7684px\u4e3avw\n}\n\n// eslint-disable-next-line prefer-const\nlet ADAPTION_MODE = ADAPTION_MODE_VALUE.media // \u8f6c\u5316\u6a21\u5f0f\nconst DESIGNED_MEASURE = 375 // \u8bbe\u8ba1\u7a3f\u5c3a\u5bf8\nconst MIN_PX = 1 // \u6700\u5c0f\u8f6c\u5316\u503c\uff0c\u4f8b\u5982\uff1a\u5c0f\u4e8e\u7b49\u4e8e1px\u5219\u4e0d\u5904\u7406\n\nconst PX_REG = /(\\d+)px(?!\\))/\nconst MEDIA_REG = /{[^}]+\\}/\n\nconst px2vw = (pixels: string | number | TemplateStringsArray) => {\n  if (pixels instanceof Array) {\n    // \u4ece\u6a21\u677f\u4e2d\u62ff\u53bb\u503c\n    pixels = pixels[0]\n  }\n\n  const num = parseInt(pixels as string)\n  if (num <= MIN_PX) return `${num}left` // left\u5360\u4f4d\uff0c\u5426\u5219\u6b7b\u5faa\u73af\n\n  return `${((num / DESIGNED_MEASURE) * 100).toFixed(3)}vw`\n  // \u7ed3\u679c\u4fdd\u7559\u4e09\u4f4d\u5c0f\u6570\n}\n\nconst allPx2vw = (stylesStr: string) => {\n  let res: string = stylesStr\n\n  const pxMatchReg = new RegExp(PX_REG)\n\n  while (pxMatchReg.test(res)) {\n    const pxMatchResult = pxMatchReg?.exec(res)\n    if (!pxMatchResult) continue\n\n    res = res.replace(PX_REG, `${px2vw(pxMatchResult[1])}`)\n  }\n\n  // \u628a\u5360\u4f4d\u7b26\u66ff\u6362\u56de\u6765\n  res = res.replace(/left/g, 'px')\n\n  return res\n}\n\nconst mediaPx2vw = (stylesStr: string) => {\n  const mediaReg = new RegExp(MEDIA_REG)\n  while (mediaReg.test(stylesStr)) {\n    let mediaRegResult = mediaReg?.exec(stylesStr)?.[0]\n    if (!mediaRegResult) continue\n\n    const pxMatchReg = new RegExp(PX_REG)\n\n    while (pxMatchReg.test(mediaRegResult)) {\n      const pxMatchResult = pxMatchReg?.exec(mediaRegResult)\n      if (!pxMatchResult) continue\n\n      mediaRegResult = mediaRegResult.replace(PX_REG, `${px2vw(pxMatchResult[1])}`)\n    }\n\n    let replacedRegRes = mediaRegResult\n\n    // \u5c06{}\u66ff\u6362\u4e3a\u5360\u4f4d\u7b26\uff0c\u5426\u5219\u4f1a\u6b7b\u5faa\u73af\n    replacedRegRes = replacedRegRes?.replace('{', '^')\n    replacedRegRes = replacedRegRes?.replace('}', '#')\n\n    // console.log('[replacedRegRes]:', replacedRegRes)\n\n    if (!replacedRegRes) continue\n\n    stylesStr = stylesStr.replace(MEDIA_REG, replacedRegRes)\n  }\n\n  // \u5c06\u5360\u4f4d\u7b26\u66ff\u6362\u56de\u6765\n  stylesStr = stylesStr.replace('^', '{')\n  stylesStr = stylesStr.replace('#', '}')\n\n  return stylesStr\n}\n\n// TODO \u53ea\u8f6c\u5316\u9664\u5a92\u4f53\u67e5\u8be2\u5916\u7684px\u4e3avw\n\nexport const t = (strings: TemplateStringsArray, ...interpolations: any) => {\n  console.time('t1-spend')\n\n  const styles = css(strings, ...interpolations) // css\u662fstyled-components\u7684\u4e00\u4e2ahelper\n\n  const stylesStr = styles.join('')\n\n  // \u6709\u4e09\u79cd\u8f6c\u5316\u60c5\u51b5\uff1a1.\u5185\u5916\u90fd\u8f6c\u5316  2.\u5185\u90e8\u8f6c\u5316  3.\u5916\u90e8\u8f6c\u5316\u3010\u8f83\u96be\u3011\n  // \u8fd9\u91cc\u5185\u6307\u7684\u662f\u5a92\u4f53\u67e5\u8be2\uff0c\u5916\u6307\u7684\u662f\u5a92\u4f53\u67e5\u8be2\u5916\u90e8css\n  let handledStyledStr = ''\n\n  switch (ADAPTION_MODE) {\n    case ADAPTION_MODE_VALUE.all:\n      handledStyledStr = allPx2vw(stylesStr)\n      break\n\n    case ADAPTION_MODE_VALUE.media:\n      handledStyledStr = mediaPx2vw(stylesStr)\n      break\n  }\n\n  const handledStr = handledStyledStr.split('\\n').join('')\n\n  // console.log('[styles]:', styles, handledStr)\n  console.timeEnd('t1-spend') // \u6027\u80fd\u5206\u6790\n  return handledStr\n}\n")),(0,a.kt)("p",null,"\u4f7f\u7528\u65b9\u6cd5\uff0c\u53ea\u662f\u591a\u5305\u88f9\u4e86\u4e00\u5c42 ${t}\uff0c\u800c\u4e14\u6ca1\u6709\u4ee3\u7801\u63d0\u793a\u4e86"),(0,a.kt)("p",null,"\u6240\u4ee5\u53ef\u4ee5\u5148\u518d\u5916\u9762\u5199\uff0c\u7136\u540e\u518d\u590d\u5236\u8fdb\u6765"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const a = 200 // \u4e0d\u5f71\u54cd\u63d2\u503c\n\nconst Wrapper = styled(Base)`\n  ${t`\n  width: 100px;\n  height: ${a}px; // \u4e0d\u5f71\u54cd\u63d2\u503c\n\n  border: 1px solid red;\n  @media (max-width: 960px){\n    width: 100px; \n    height: 100px;\n  }\n`}\n`\n")),(0,a.kt)("p",null,"\u66ff\u6362\u65b9\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"(`[^\\`]*`)\n\n`\\${$1}`\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"vscode\u5982\u4f55\u8fdb\u884c\u591a\u884c\u6b63\u5219\u5339\u914d\uff1f")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"[\\s\\S\\r]*\n")),(0,a.kt)("p",null,"\u4f8b\u5982\u6211\u4eec\u8981\u5339\u914d\u4e0b\u9762 ``\u4e2d\u7684\u5185\u5bb9"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const Base = styled.div`\n  width: 200px;\n`\n")),(0,a.kt)("p",null," \u4f7f\u7528\u6b63\u5219\u6279\u91cf\u66ff\u6362\u5373\u53ef"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"((?<=[\\)vn])`[\\s\\S\\r]*?`)\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"(\\n  ...t$1\\n)\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://gitee.com/nahaohao/pic-upload/raw/master/img/image-20210808162506444.png",alt:"image-20210808162506444"})),(0,a.kt)("p",null,"\u6b64\u6b63\u5219\u4e2d\u5305\u542b\u6b63\u5219 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u9884\u5148\u65ad\u8a00"),"\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},"\u591a\u884c\u5339\u914d"),"\u7b49\u77e5\u8bc6\uff0c\u6b64\u6b63\u5219\u8868\u8fbe\u5f0f\u4e0d\u4f1a\u91cd\u590d\u5339\u914d\uff0c\u4e5f\u5c31\u662f\u88ab\u66ff\u6362\u7684\u5143\u7d20\u4e0d\u4f1a\u518d\u6b21\u88ab\u66ff\u6362 \u5982\u4e0b\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const Wrapper = styled(Base)`\n  width: 100px;\n`\n")),(0,a.kt)("p",null,"\u5339\u914d\u524d\uff0c\u5339\u914d\u540e\uff0c\u4e0b\u65b9\u4e0d\u4f1a\u518d\u88ab ",(0,a.kt)("inlineCode",{parentName:"p"},"((?<=[\\)vn])"),"[\\s\\S\\r]","*?",(0,a.kt)("inlineCode",{parentName:"p"},")"),"\u5339\u914d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const Wrapper = styled(Base)(\n  ...t`\n  width: 100px;\n`\n)\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u8fd8\u539f\u7684\u6b63\u5219")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"\\(\\n  \\.\\.\\.t(`[\\s\\S\\r]*?`)\\n\\)\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"$1\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u66f4\u65b0\u6b63\u5219")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"((?<=[\\)vn])`[\\s\\S\\r]*?`)\n")),(0,a.kt)("h1",{id:"7-styled-components\u79fb\u52a8\u7aefvw\u9002\u914d\u9884\u5148\u5904\u7406\u51fd\u6570"},"7 styled-components\u79fb\u52a8\u7aefvw\u9002\u914d\u9884\u5148\u5904\u7406\u51fd\u6570"),(0,a.kt)("p",null,"\u539f\u7406\uff1a\u901a\u8fc7\u6b63\u5219\u5339\u914d\u7684\u65b9\u5f0f\u5c06px\u66ff\u6362\u4e3avw"),(0,a.kt)("h3",{id:"\u5b9e\u73b0\u529f\u80fd"},"\u5b9e\u73b0\u529f\u80fd"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5168\u90e8\u66ff\u6362px\u4e3avw"),(0,a.kt)("li",{parentName:"ul"},"\u53ea\u66ff\u6362\u5a92\u4f53\u67e5\u8be2\u5185\u7684px\u4e3avw")),(0,a.kt)("h3",{id:"\u5b58\u5728\u95ee\u9898"},"\u5b58\u5728\u95ee\u9898"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u65e0\u4ee3\u7801\u63d0\u793a"),(0,a.kt)("li",{parentName:"ul"},"\u901a\u8fc7props\u4f20\u9012\u7684\u53c2\u6570\uff0c\u53ea\u6709theme\u6709\u63d0\u793a")),(0,a.kt)("h3",{id:"\u601d\u7ef4\u6269\u5c55"},"\u601d\u7ef4\u6269\u5c55"),(0,a.kt)("p",null,"\u6b64\u51fd\u6570\u5904\u7406\u662f\u5728styled-components\u5904\u7406\u4e4b\u524d\u5904\u7406\uff0c\u90a3\u53ef\u4e0d\u53ef\u4ee5\u5728\u5b83\u5904\u7406\u4e4b\u540e\u6211\u518d\u5904\u7406\u5462\uff1f\u76ee\u524d\u672a\u627e\u5230\u76f8\u5173\u65b9\u6848\uff0c\u5982\u679c\u76f4\u63a5\u6539\u53d8\u6807\u7b7e\u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},"rules")," \u662f\u4e0d\u4f1a\u751f\u6548\u7684\uff0c\u56e0\u4e3a\u8d77\u4f5c\u7528\u7684\u662f\u8fd9\u4e32hash\u7c7b\uff0c\u800c\u4e0d\u662f\u6709\u540d\u5b57\u7684\u7c7b\uff0c\u5982\u4e0b\uff1a\u6240\u4ee5\u76ee\u524d\u53ea\u80fd\u5728styled-components\u5904\u7406\u4e4b\u524d\u5904\u7406"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"export const ImgBox = {\n  ...imgBoxTmp,\n  componentStyle: { ...imgBoxTmp.componentStyle, rules: { ...imgBoxTmp.componentStyle.rules.slice(0, 2) } },\n}\n\nconsole.debug('[ImgBox]:', ImgBox, ImgBox.toString())\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://gitee.com/nahaohao/pic-upload/raw/master/img/image-20210907222925602.png",alt:"image-20210907222925602"})),(0,a.kt)("h3",{id:"\u5904\u7406\u51fd\u6570"},"\u5904\u7406\u51fd\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"/*\n * @Author: jiangjin\n * @Date: 2021-09-04 16:23:08\n * @LastEditTime: 2021-09-07 17:11:11\n * @LastEditors: jiangjin\n * @Description:\n *  styled-components\u7684vw\u9002\u914d\u9884\u5148\u5904\u7406\u51fd\u6570\uff0c\u901a\u8fc7\u6b63\u5219\u66ff\u6362\u7684\u65b9\u5f0f\u8fdb\u884c\u9884\u5904\u7406\n */\n\nimport { css, DefaultTheme, FlattenInterpolation, Interpolation, ThemedStyledProps } from 'styled-components/macro'\nenum ADAPTION_MODE_VALUE {\n  all = 0, // \u8f6c\u5316\u6240\u6709px\u4e3avw\n  media = 1, // \u53ea\u8f6c\u5316\u5a92\u4f53\u67e5\u8be2\u7684px\u4e3avw\n  out = 2, // TODO \u672a\u5b9e\u73b0\uff0c\u53ea\u8f6c\u5316\u9664\u5a92\u4f53\u67e5\u8be2\u5916\u7684px\u4e3avw\n}\n\n// \u4e00\u4e9b\u914d\u7f6e\n// eslint-disable-next-line prefer-const\nlet ADAPTION_MODE = ADAPTION_MODE_VALUE.media // \u8f6c\u5316\u6a21\u5f0f\n// let ADAPTION_MODE = ADAPTION_MODE_VALUE.all // \u8f6c\u5316\u6a21\u5f0f\n\nconst DESIGNED_MEASURE = 375 // \u8bbe\u8ba1\u7a3f\u5c3a\u5bf8\nconst MIN_PX = 1 // \u6700\u5c0f\u8f6c\u5316\u503c\uff0c\u4f8b\u5982\uff1a\u5c0f\u4e8e\u7b49\u4e8e1px\u5219\u4e0d\u5904\u7406\n\n// \u4e00\u4e9b\u6b63\u5219\nconst PX_REG = /(\\d+)px(?!\\))/\n// const MEDIA_REG = /{[^}]+\\}/\nconst MEDIA_REG = /@media([\\s\\S\\r]+)\\{[\\s\\S\\r]+\\}/\nconst NO_MEAN = 'NO_MEAN' // 1px\u5360\u4f4d\u7b26\n\n// \u8017\u65f6\u5206\u6790\nconst TIME_SPEED_SYMBOL = 'TIME_SPEED_SYMBOL'\n\n// \u8f6c\u5316\u6838\u5fc3\u51fd\u6570\nfunction px2vw(pixels: string | number | TemplateStringsArray) {\n  if (pixels instanceof Array) {\n    // \u4ece\u6a21\u677f\u4e2d\u62ff\u53bb\u503c\n    pixels = pixels[0]\n  }\n\n  const num = parseInt(pixels as string)\n  if (num <= MIN_PX) return `${num}${NO_MEAN}` // nomean\u5360\u4f4d\uff0c\u5426\u5219\u6b7b\u5faa\u73af\n\n  return `${((num / DESIGNED_MEASURE) * 100).toFixed(3)}vw`\n  // \u7ed3\u679c\u4fdd\u7559\u4e09\u4f4d\u5c0f\u6570\n}\n/**\n *  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    margin-bottom: 83px;\n  }\n  @media (max-width: ###960px###) {\n    img {\n      width: 55px;\n      height: 18px;\n      margin-bottom: 30px;\n    }\n  }\n */\n\n// \u8f6c\u5316\u6240\u6709\nfunction allPx2vw(stylesStr: string) {\n  let res: string = stylesStr\n\n  const pxMatchReg = new RegExp(PX_REG)\n\n  while (pxMatchReg.test(res)) {\n    const pxMatchResult = pxMatchReg?.exec(res)\n    if (!pxMatchResult) continue\n\n    res = res.replace(PX_REG, `${px2vw(pxMatchResult[1])}`)\n  }\n\n  // \u628a\u5360\u4f4d\u7b26\u66ff\u6362\u56de\u6765\n  res = res.replace(/NO_MEAN/g, 'px')\n\n  return res\n}\n\n// \u53ea\u8f6c\u5316\u5a92\u4f53\u67e5\u8be2\nfunction onlyMediaPx2vw(stylesStr: string) {\n  const mediaReg = new RegExp(MEDIA_REG)\n  while (mediaReg.test(stylesStr)) {\n    let mediaRegResult = mediaReg?.exec(stylesStr)?.[0]\n    if (!mediaRegResult) continue\n\n    const pxMatchReg = new RegExp(PX_REG)\n\n    while (pxMatchReg.test(mediaRegResult)) {\n      const pxMatchResult = pxMatchReg?.exec(mediaRegResult)\n      if (!pxMatchResult) continue\n\n      mediaRegResult = mediaRegResult.replace(PX_REG, `${px2vw(pxMatchResult[1])}`)\n    }\n\n    let replacedRegRes = mediaRegResult\n\n    // \u5c06{}\u66ff\u6362\u4e3a\u5360\u4f4d\u7b26\uff0c\u5426\u5219\u4f1a\u6b7b\u5faa\u73af\n    replacedRegRes = replacedRegRes?.replaceAll('{', '^^^')\n    replacedRegRes = replacedRegRes?.replaceAll('}', '---')\n\n    // console.log('[replacedRegRes]:', replacedRegRes)\n\n    if (!replacedRegRes) continue\n\n    stylesStr = stylesStr.replace(MEDIA_REG, replacedRegRes)\n  }\n\n  // \u5c06\u5360\u4f4d\u7b26\u66ff\u6362\u56de\u6765\n  stylesStr = stylesStr.replaceAll('^^^', '{')\n  stylesStr = stylesStr.replaceAll('---', '}')\n  stylesStr = stylesStr.replace(/NO_MEAN/g, 'px')\n\n  return stylesStr\n}\n\n// TODO \u53ea\u8f6c\u5316\u9664\u5a92\u4f53\u67e5\u8be2\u5916\u7684px\u4e3avw\n\n// \u5c06styles\u8f6c\u5316\u4e3astring\uff0c\u4e3b\u8981\u4e3a\u4e86\u7ed9\u51fd\u6570\u6253\u4e00\u4e2a\u6807\u8bb0\nfunction stringStyles(origin: FlattenInterpolation<ThemedStyledProps<Record<string, never>, DefaultTheme>>) {\n  let res = ''\n  const len = origin.length\n\n  for (let i = 0; i < len; ++i) {\n    const item = origin[i]\n\n    if (typeof item !== 'string') {\n      if (i == len - 1) {\n        res = res + i\n      } else {\n        res = res + i + '###'\n      }\n      continue\n    }\n\n    if (i == len - 1) {\n      res = res + item\n    } else {\n      res = res + item + '###'\n    }\n  }\n\n  return res\n}\n\n// \u5c06string\u8f6c\u5316\u4e3astyles\uff0c\u4e3b\u8981\u4e3a\u4e86\u5c06\u51fd\u6570\u8fd8\u539f\nfunction resetStyles(\n  origin: string,\n  styles: FlattenInterpolation<ThemedStyledProps<Record<string, never>, DefaultTheme>>\n): any[] {\n  const res = origin.split('###')\n  const resetedStyles: any[] = []\n\n  res.forEach((item) => {\n    if (!isNaN(Number(item))) {\n      // \u662f\u51fd\u6570\n      return resetedStyles.push(styles[Number(item)])\n    }\n\n    resetedStyles.push(item)\n  })\n\n  return resetedStyles\n}\n\n// \u5a92\u4f53\u67e5\u8be2\u9884\u5904\u7406\nfunction mediaPreHandler(str: string) {\n  // \u5c06\u5a92\u4f53\u67e5\u8be2\u7684max-width\u533a\u522b\u51fa\u6765\uff0c\u4e0d\u8981\u8f6c\u5316\n  const firstPxReg = /(?<=@media[\\s\\S\\r]*?)px(?=.*\\))/g\n  console.log('[nounit]:', str.replaceAll(firstPxReg, 'nounit'))\n  return str.replaceAll(firstPxReg, 'nounit')\n}\n\nfunction mediaAftHandler(str: string) {\n  console.log('[resetNounit]:', str.replaceAll('nounit', 'px'))\n  return str.replaceAll('nounit', 'px')\n}\n\nfunction convert(styles: FlattenInterpolation<ThemedStyledProps<Record<string, never>, DefaultTheme>>) {\n  let stringedStyles = stringStyles(styles)\n  // debugger\n\n  // let stringedStyles = stringStyles([\n  //   '\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  img {\\n    margin-bottom: 83px;\\n  }\\n  @media (max-width: ',\n  //   '960px',\n  //   ') {\\n    img {\\n      width: 55px;\\n      height: 18px;\\n      margin-bottom: 30px;\\n    }\\n  }\\n',\n\n  //   '@media (max-width: 768px) {\\n    img {\\n      width: 55px;\\n      height: 18px;\\n      margin-bottom: 30px;\\n    }\\n  }\\n',\n  // ])\n  console.debug('[stringedStyles,]:', styles, stringedStyles)\n\n  switch (ADAPTION_MODE) {\n    case ADAPTION_MODE_VALUE.all:\n      stringedStyles = allPx2vw(stringedStyles)\n      break\n\n    case ADAPTION_MODE_VALUE.media:\n      stringedStyles = mediaPreHandler(stringedStyles)\n\n      stringedStyles = onlyMediaPx2vw(stringedStyles)\n\n      stringedStyles = mediaAftHandler(stringedStyles)\n\n      break\n  }\n\n  const resetedStyles = resetStyles(stringedStyles, styles)\n  console.debug('[resetedStyles,]:', resetedStyles)\n  const tmpArr: Record<any, any> = [resetedStyles]\n  tmpArr['raw'] = ['']\n\n  console.timeEnd(TIME_SPEED_SYMBOL) // \u8017\u65f6\u5206\u6790\n  return tmpArr\n}\n\nexport const t = (\n  strings: TemplateStringsArray,\n  ...interpolations: Array<Interpolation<ThemedStyledProps<Record<string, never>, DefaultTheme>>>\n) => {\n  console.time(TIME_SPEED_SYMBOL)\n\n  const styles = css(strings, ...interpolations) // css\u662fstyled-components\u7684\u4e00\u4e2ahelper\n\n  return convert(styles)\n}\n\n// function convert222(styles: FlattenSimpleInterpolation) {\n//   let stringedStyles = stringStyles(styles)\n//   console.debug('[stringedStyles,]:', styles, stringedStyles)\n\n//   switch (ADAPTION_MODE) {\n//     case ADAPTION_MODE_VALUE.all:\n//       stringedStyles = allPx2vw(stringedStyles)\n//       break\n\n//     case ADAPTION_MODE_VALUE.media:\n//       stringedStyles = onlyMediaPx2vw(stringedStyles)\n//       break\n//   }\n\n//   const resetedStyles = resetStyles(stringedStyles, styles)\n//   console.debug('[resetedStyles,]:', resetedStyles)\n//   const tmpArr: Record<any, any> = [resetedStyles]\n//   tmpArr['raw'] = ['']\n\n//   console.timeEnd(TIME_SPEED_SYMBOL) // \u8017\u65f6\u5206\u6790\n\n//   return resetedStyles\n// }\n// export function t2<T>(themedStyledFunction: T): T {\n//   console.log('[themedStyledFunction]:', themedStyledFunction)\n\n//   const tmp = themedStyledFunction as any\n//   const componentStyle = tmp?.componentStyle\n//   const styles: any[] | undefined = componentStyle?.rules\n\n//   if (!componentStyle || !styles) return themedStyledFunction\n\n//   const convertedStyles = convert222(styles).slice(0, 2)\n\n//   const res = { ...tmp, componentStyle: { ...componentStyle, rules: convertedStyles } }\n\n//   console.log('[res]:', res)\n//   return res\n// }\n// interface t2Func {\n//   <T>(component: ThemedStyledFunction<C, T>;): boolean;\n// }\n\n// let t2: t2Func;\n\n// t2 = (themedStyledFunction: ) {\n\n//   themedStyledFunction.componentStyle\n// }\n\n// export t2\n")),(0,a.kt)("h3",{id:"\u4f7f\u7528\u65b9\u6cd5"},"\u4f7f\u7528\u65b9\u6cd5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const DEFAULT_WIDTH = '100px'\n\nconst Wrapper = styled.div<{ width: string }>(t`\n  width: 300px;\n  border: 1px solid red;\n  \n  @media (max-width: 968px) {\n    width: 100px;\n    height: ${DEFAULT_WIDTH};\n  }\n`)\n")),(0,a.kt)("p",null,"\u5728\u539f\u6709\u7684\u57fa\u7840\u4e0a\u52a0\u4e0a(t)\u5373\u53ef\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\u6279\u91cf\u66f4\u6539 ",(0,a.kt)("inlineCode",{parentName:"p"},"tips\uff1a\u5efa\u8bae\u5148\u7528\u4e00\u4e2a\u8bd5\u4e00\u4e0b\uff0c\u6210\u529f\u540e\u518d\u6279\u91cf\u66ff\u6362")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6279\u91cf\u66ff\u6362\u6b63\u5219"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"(?<=styled.+?)(?<!t)(`[\\s\\S\\r]+?`)\n\u66ff\u6362\u4e3a\n(t$1)\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8fd8\u539f\u7684\u6b63\u5219"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"(?<=styled.+?)\\(t(`[\\s\\S\\r]+?`)\\)\n\u66ff\u6362\u4e3a\n$1\n\n\\(t`([\\s\\S\\r]*?)`\\)\n\u66ff\u6362\u4e3a\n`$1`\n")))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a",(0,a.kt)("strong",{parentName:"p"},"\u8bf7\u6253\u5f00vscode\u7684\u6b63\u5219\u641c\u7d22\u6a21\u5f0f"))),(0,a.kt)("p",null,"![image-20210905092524035]","(/Users/jiangjin/Library/Application Support/typora-user-images/image-20210905092524035.png)"),(0,a.kt)("h3",{id:"\u5df2\u77e5\u7f3a\u9677"},"\u5df2\u77e5\u7f3a\u9677"),(0,a.kt)("p",null,"\u76ee\u524d\u5df2\u77e5\u7684\u95ee\u9898"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u65e0\u6cd5\u8f6c\u5316\u901a\u8fc7\u6807\u7b7e\u4f20\u5165\u7684\u503c\uff0c\u5982\u4e0b\uff1a"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const Wrapper1 = styled.div<{ width: string }>(t`\n  width: 300px;\n  @media (max-width: 2000px) {\n        width: ${(props: any) => props.width}; // \u6807\u7b7e\u4f20\u5165\u53d8\u91cf\u65e0\u6cd5\u5b9e\u73b0\u8f6c\u5316\n    height: ${DEFAULT_WIDTH}; // \u666e\u901a\u5916\u90e8\u53d8\u91cf\u53ef\u4ee5\u8f6c\u5316\n    border: 1px solid red;\n  }\n`)\n")),(0,a.kt)("p",{parentName:"li"},"\u539f\u56e0\uff1a\u901a\u8fc7\u6807\u7b7e\u4f20\u5165\u7684\u53d8\u91cf\u5728styled-components\u5de5\u4f5c\u7684\u65f6\u5019\u624d\u80fd\u786e\u5b9a\u5176\u503c\uff0c\u800c\u672c\u51fd\u6570\u662f\u9884\u5904\u7406\uff08\u4e4b\u524d\uff09\uff0c\u65e0\u6cd5\u83b7\u53d6\u5230 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u672a\u6765\u7684\u503c"),"\uff0c\u6240\u4ee5\u65e0\u6cd5\u8fdb\u884c\u8f6c\u5316\u3002\u6240\u4ee5\u9700\u8981\u8f6c\u5316\u7684\u503c\uff0c\u4e0d\u8981\u901a\u8fc7\u6807\u7b7e\u4f20\u503c\u7684\u65b9\u5f0f\u4f20\u5165\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6ca1\u6709\u4ee3\u7801\u63d0\u793a\u4e86"),(0,a.kt)("p",{parentName:"li"},"\u539f\u56e0\uff1a\u4ee3\u7801\u5199\u5728t\u51fd\u6570\u5185\u90e8\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},"vscode-styled-components"),"\u65e0\u6cd5\u5904\u7406\uff0c\u6240\u4ee5\u6ca1\u6709\u4ee3\u7801\u63d0\u793a"),(0,a.kt)("p",{parentName:"li"},"\u89e3\u51b3\u65b9\u6848\uff1a\u6b63\u5e38\u4e66\u5199\uff0c\u6700\u540e\u518d\u6279\u91cf\u66ff\u6362\u4e3at\u51fd\u6570\u5904\u7406"),(0,a.kt)("p",{parentName:"li"},"\u4f46\u53ef\u4ee5\u8ba9\u4ee3\u7801\u9ad8\u4eae\uff0c\u5728\u63d2\u4ef6\u7684 ",(0,a.kt)("inlineCode",{parentName:"p"},"styled-components.json")," \u6587\u4ef6\u4e2d"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"\u5c06begin\u4e2d\u7684 ` \u4fee\u6539\u4e3a t?`\u5373\u53ef\n")),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "contentName": "source.css.scss",\n  "begin": "(?:(?:([\\\\s\\\\S][sS][tT][yY][lL][eE][dD](?:<.+>(?=\\\\())?(?:\\\\.[_$[:alpha:]][_$[:alnum:]]*|\\\\s*\\\\([\'\\"][_$[:alpha:]][_$[:alnum:]]*[\'\\"]\\\\)|\\\\s*\\\\((.+)\\\\))(?:\\\\s*<.+>)?\\\\(?)|(css|keyframes|injectGlobal|createGlobalStyle|stylesheet)(<.+>)?)\\\\s*(\\\\([\\\\{\\\\}\\\\w,\\\\:\\\\s]+?\\\\)\\\\s*=>\\\\s*)?(t?`))|(?:}>|\\\\)\\\\))(t?`)",\n  "beginCaptures": {\n')))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u8054\u60f3\uff1a",(0,a.kt)("strong",{parentName:"p"},"mac vscode\u63d2\u4ef6\u4f4d\u7f6e"))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Mac\u4e0bvscode\u63d2\u4ef6\u5b58\u653e\u4f4d\u7f6e\uff1a")," ",(0,a.kt)("inlineCode",{parentName:"p"},"User/\uff08\u4f60\u7684\u7528\u6237\u540d\uff09/.vscode/extensions")),(0,a.kt)("p",null,"\u9700\u663e\u793a\u9690\u85cf\u6587\u4ef6\uff0c\u65b9\u6cd5\uff1a"),(0,a.kt)("p",null,"\u6253\u5f00Finder\uff0c\u8f6c\u5230Macintosh HD\u6587\u4ef6\u5939\uff08\u4ece\u5de6\u680f\u4e2d\u7684\u8bbe\u5907\u8bbf\u95ee\uff09\uff0c\u6309\u4f4fCmd + Shift + . \u6240\u6709\u9690\u85cf\u6587\u4ef6\u90fd\u5c06\u53d8\u4e3a\u53ef\u89c1"),(0,a.kt)("h1",{id:"8-\u4e00\u4e9b\u5e01\u94fe\u63a5"},"8 \u4e00\u4e9b\u5e01\u94fe\u63a5"),(0,a.kt)("p",null,"\u829d\u9ebb\u5f00\u95e8.",(0,a.kt)("a",{parentName:"p",href:"https://www.gate.io/cn/trade/BNB_USDT"},"https://www.gate.io/cn/trade/BNB_USDT")),(0,a.kt)("p",null,"138...7-n...3"),(0,a.kt)("p",null,"BNB.",(0,a.kt)("a",{parentName:"p",href:"https://www.binance.com/zh-CN/trade/BTC_USDT?layout=basic"},"https://www.binance.com/zh-CN/trade/BTC_USDT?layout=basic")),(0,a.kt)("p",null,"g...98...gmail-d...2"),(0,a.kt)("h1",{id:"9-js\u666e\u901a\u6570\u5b57\u8f6c\u79d1\u5b66\u8ba1\u6570\u6cd5"},"9 js\u666e\u901a\u6570\u5b57\u8f6c\u79d1\u5b66\u8ba1\u6570\u6cd5"),(0,a.kt)("p",null,"\u800c\u5728JavaScript\u4e2d\u6709\u4e00\u4e2a\u65b9\u6cd5\u80fd\u5c06\u6570\u5b57\u8f6c\u5316\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u90a3\u5c31\u662f",(0,a.kt)("a",{parentName:"p",href:"http://www.w3school.com.cn/jsref/jsref_toexponential.asp"},"toExponential"),"\u3002"),(0,a.kt)("p",null,"\u8be5\u65b9\u6cd5\u53ef\u628a\u5bf9\u8c61\u7684\u503c\u8f6c\u6362\u6210\u6307\u6570\u8ba1\u6570\u6cd5\u3002",(0,a.kt)("inlineCode",{parentName:"p"},"NumberObject.toExponential(num)"),"\u4e2d\u7684\u53c2\u6570",(0,a.kt)("inlineCode",{parentName:"p"},"num"),"\u89c4\u5b9a\u6307\u6570\u8ba1\u6570\u6cd5\u4e2d\u7684\u5c0f\u6570\u4f4d\u6570\uff0c\u662f 0 ~ 20 \u4e4b\u95f4\u7684\u503c\uff0c\u5305\u62ec 0 \u548c 20\uff0c\u6709\u4e9b\u5b9e\u73b0\u53ef\u4ee5\u652f\u6301\u66f4\u5927\u7684\u6570\u503c\u8303\u56f4\u3002\u5982\u679c\u7701\u7565\u4e86\u8be5\u53c2\u6570\uff0c\u5c06\u4f7f\u7528\u5c3d\u53ef\u80fd\u591a\u7684\u6570\u5b57\u3002"),(0,a.kt)("p",null,"\u4f8b\u5982\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'var num = 123456;\n\nnum.toExponential() //"1.23456e+5"\nnum.toExponential(1) //"1.23e+5"\n')),(0,a.kt)("p",null,"\u53cd\u8fc7\u6765\uff0c\u5c06\u4e00\u4e2a\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u6570\u5b57\u8f6c\u5316\u4e3a\u666e\u901a\u6570\u5b57\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'var eNum = "1.23456e+5";\n\nNumber(eNum) //123456\nor eNum.toFixed()\n')))}d.isMDXComponent=!0}}]);